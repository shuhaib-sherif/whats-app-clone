[{"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\App.js":"1","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\sidebar\\sidebar.component.jsx":"2","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\chat\\chat.component.jsx":"3","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\index.js":"4","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\login\\login.component.jsx":"5","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\reducer.js":"6","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\sidebar-chat\\sidebar-chat.component.jsx":"7","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\StateProvider.js":"8"},{"size":981,"mtime":1610462002045,"results":"9","hashOfConfig":"10"},{"size":2239,"mtime":1610394486188,"results":"11","hashOfConfig":"10"},{"size":4190,"mtime":1610460143333,"results":"12","hashOfConfig":"10"},{"size":699,"mtime":1610393437111,"results":"13","hashOfConfig":"10"},{"size":1177,"mtime":1610394063995,"results":"14","hashOfConfig":"10"},{"size":404,"mtime":1610460344318,"results":"15","hashOfConfig":"10"},{"size":1602,"mtime":1610460895200,"results":"16","hashOfConfig":"10"},{"size":394,"mtime":1610393258165,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13c6rth",{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\App.js",[],"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\sidebar\\sidebar.component.jsx",["38"],"import React, {useEffect, useState} from 'react';\r\nimport {Avatar, IconButton} from '@material-ui/core';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\r\n\r\nimport SidebarChat from '../sidebar-chat/sidebar-chat.component';\r\n\r\nimport db from '../firebase/firebase';\r\n\r\nimport {useStateValue} from '../../StateProvider';\r\n\r\nimport './sidebar.styles.css';\r\n\r\nfunction Sidebar() {\r\n    const [rooms, setRooms] = useState([]);\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = db.collection('rooms').onSnapshot(snapshot => (\r\n            setRooms(snapshot.docs.map(doc =>\r\n                ({\r\n                    id: doc.id,\r\n                    data: doc.data(),\r\n                })\r\n            ))\r\n        ))\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className='sidebar'>\r\n            <div className='sidebar__header'>\r\n                <Avatar src={user?.photoURL}/>\r\n                <div className='sidebar__headerRight'>\r\n                    <IconButton>\r\n                        <DonutLargeIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton>\r\n                        <ChatIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton>\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='sidebar__search'>\r\n                <div className='sidebar__searchContainer'>\r\n                    <SearchOutlined />\r\n                    <input placeholder='Search or start new char' type='text' />\r\n                </div>\r\n            </div>\r\n\r\n            <div className='sidebar__chats'>\r\n                <SidebarChat addNewChat />\r\n                {\r\n                    rooms.map(room => (\r\n                        <SidebarChat key={room.id} id={room.id} name={room.data.name} />\r\n                    ))\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;\r\n","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\chat\\chat.component.jsx",["39"],"import React, {useEffect, useState} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nimport {Avatar, IconButton} from '@material-ui/core';\r\nimport SearchOutlined from '@material-ui/icons/Search';\r\nimport AttachFile from '@material-ui/icons/AttachFile';\r\nimport MoreVert from '@material-ui/icons/MoreVert';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\n\r\nimport db from '../firebase/firebase';\r\nimport firebase from 'firebase';\r\n\r\nimport {useStateValue} from \"../../StateProvider\";\r\n\r\nimport './chat.styles.css';\r\n\r\nfunction Chat() {\r\n    const [input, setInput] = useState(\"\");\r\n    const [seed, setSeed] = useState(\"\");\r\n    const {roomId} = useParams();\r\n    const [roomName, setRoomName] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n    useEffect(()=>{\r\n        if(roomId){\r\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot => {\r\n                setRoomName(snapshot.data().name);\r\n            });\r\n\r\n            db.collection('rooms').doc(roomId)\r\n            .collection(\"messages\")\r\n            .orderBy(\"timestamp\",\"asc\").onSnapshot(snapshot => {\r\n                setMessages(snapshot.docs.map(doc => doc.data()))\r\n            });\r\n\r\n        }\r\n    },[roomId])\r\n\r\n    useEffect(() => {\r\n        setSeed(Math.floor(Math.random() * 5000));\r\n    }, [roomId]);\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault();\r\n        db.collection('rooms').doc(roomId).collection('messages').add({\r\n            message: input,\r\n            name: user.displayName,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        })\r\n\r\n        setInput(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className='chat'>\r\n            <div className='chat_header'>\r\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`}/>\r\n                <div className='chat_headerInfo'>\r\n                    <h3 className='chat-room-name'>{roomName}</h3>\r\n                    <p className='chat-room-last-seen'>\r\n                        Last seen {\" \"}\r\n                        {new Date(\r\n                            messages[messages.length - 1]\r\n                            ?.timestamp?.toDate()\r\n                        ).toUTCString()}\r\n                    </p>\r\n                </div>\r\n                <div className=\"chat_headerRight\">\r\n                    <IconButton>\r\n                        <SearchOutlined/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <AttachFile/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVert/>\r\n                    </IconButton>\r\n\r\n                </div>\r\n            </div>\r\n            <div className='chat_body'>\r\n                {messages.map(message => (\r\n                    <p className={`chat_message ${ message.name === user.displayName && 'chat_receiver'}`}>\r\n\r\n                        <span className=\"chat_name\">\r\n                            {message.name}\r\n                        </span>\r\n\r\n                        {message.message}\r\n\r\n                        <span className=\"chat_timestemp\">\r\n                            {\r\n                                new Date(message.timestamp?.toDate()).toUTCString()\r\n                            }\r\n                        </span>\r\n\r\n                    </p>\r\n                ))}\r\n            </div>\r\n            <div className='chat_footer'>\r\n                <InsertEmoticonIcon />\r\n                <form>\r\n                    <input\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        type=\"text\"\r\n                        placeholder=\"Type a message\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        onClick={sendMessage}\r\n                    >\r\n                        Send a Message\r\n                    </button>\r\n                </form>\r\n                <MicIcon/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\index.js",[],["40","41"],"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\login\\login.component.jsx",["42"],"import React from 'react';\r\n\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport {auth, provider} from '../firebase/firebase';\r\nimport {useStateValue} from '../../StateProvider';\r\nimport {actionTypes} from '../../reducer';\r\n\r\nimport './login.styles.css';\r\n\r\nfunction Login() {\r\n    const [{}, dispatch] = useStateValue();\r\n\r\n    const signIn = () => {\r\n        auth.signInWithPopup(provider)\r\n        .then(result => {\r\n            dispatch({\r\n                type: actionTypes.SET_USER,\r\n                user: result.user,\r\n            })\r\n        })\r\n        .catch(error => alert(error.message));\r\n    }\r\n\r\n    return(\r\n        <div className='login'>\r\n            <div className='login__container'>\r\n                <img\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg\"\r\n                    alt=\"\"\r\n                />\r\n                 <div className=\"login_text\">\r\n                     <h1>Sign in to Whatsapp</h1>\r\n                 </div>\r\n                 <Button onClick={signIn}>\r\n                     Sign in With Google\r\n                 </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\reducer.js",[],"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\components\\sidebar-chat\\sidebar-chat.component.jsx",[],"C:\\Users\\mukho\\Desktop\\whats-app-clone\\src\\StateProvider.js",[],{"ruleId":"43","severity":1,"message":"44","line":18,"column":20,"nodeType":"45","messageId":"46","endLine":18,"endColumn":28},{"ruleId":"43","severity":1,"message":"44","line":24,"column":20,"nodeType":"45","messageId":"46","endLine":24,"endColumn":28},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":12,"column":12,"nodeType":"53","messageId":"54","endLine":12,"endColumn":14},"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation"]